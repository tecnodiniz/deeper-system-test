import{r as u,s as Z,o as G,u as J,c as z,a as t,w as o,b as n,F as D,g as K,d as Q,e as f,f as c,h as W,i as X,j as R,t as B,k as Y,l as h,m as ee}from"./index-BlfRjRTe.js";const te={class:"d-flex align-center justify-space-between w-100"},ae={__name:"UserView",setup(le){const d=u(!1),p=u(""),I=u(2e3),_=u(""),T={roles:["admin","manager","tester"],timezone:u(Intl.supportedValuesOf("timeZone"))},$={username:"",password:"",roles:[],active:!0,preferences:{timezone:""}},A=J(),V=Q(),a=u($),g=u(T),b=u(),v=Z(!1),x=async s=>{try{const e=await K(s);e.data&&(a.value=e.data,b.value=a.value.username)}catch(e){console.log(e)}};async function F(){if(a.value.username.trim()!=="")try{const{_id:s,...e}=a.value,m=await h(s,e);m.data&&(p.value=m.data.message,d.value=!0,_.value="green",x(s))}catch(s){console.log(s)}else p.value="Username field is required.",d.value=!0,_.value="red"}async function L(s){try{(await ee(s)).data&&V.push("/")}catch(e){console.log(e)}}return G(()=>{x(A.params.id)}),(s,e)=>{const m=n("v-icon"),r=n("v-btn"),k=n("v-text-field"),i=n("v-col"),N=n("v-select"),w=n("v-radio"),O=n("v-radio-group"),j=n("v-checkbox"),q=n("v-row"),U=n("v-divider"),y=n("v-spacer"),C=n("v-card-actions"),E=n("v-card"),S=n("v-dialog"),H=n("v-snackbar");return f(),z(D,null,[t(E,{subtitle:"User's Information"},{title:o(()=>[R("div",te,[R("span",null,"User "+B(b.value),1),t(r,{icon:"",variant:"text",onClick:e[0]||(e[0]=l=>Y(V).push("/")),title:"Back to Home"},{default:o(()=>[t(m,null,{default:o(()=>e[12]||(e[12]=[c("mdi-close")])),_:1})]),_:1})])]),text:o(()=>[t(q,null,{default:o(()=>[t(i,{cols:"12"},{default:o(()=>[t(k,{modelValue:a.value.username,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.username=l),label:"Username*"},null,8,["modelValue"])]),_:1}),t(i,{cols:"12"},{default:o(()=>[t(k,{modelValue:a.value.password,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.password=l),label:"Password"},null,8,["modelValue"])]),_:1}),t(i,{cols:"12",sm:"12"},{default:o(()=>[t(N,{items:g.value.timezone,modelValue:a.value.preferences.timezone,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.preferences.timezone=l),label:"Timezone"},null,8,["items","modelValue"])]),_:1}),t(i,{cols:"12",sm:"6"},{default:o(()=>[t(O,{modelValue:a.value.active,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.active=l),name:"active",label:"Is Active?"},{default:o(()=>[t(w,{label:"Active",value:!0}),t(w,{label:"Inactive",value:!1})]),_:1},8,["modelValue"])]),_:1}),t(i,{cols:"12",md:"6"},{default:o(()=>[e[13]||(e[13]=c(" Roles ")),(f(!0),z(D,null,W(g.value.roles,(l,M)=>(f(),X(j,{key:M,modelValue:a.value.roles,"onUpdate:modelValue":e[5]||(e[5]=P=>a.value.roles=P),value:l,label:l,required:"",density:"compact","hide-details":""},null,8,["modelValue","value","label"]))),128))]),_:1})]),_:1})]),default:o(()=>[t(U),t(C,{class:"bg-surface-light"},{default:o(()=>[t(r,{text:"DELETE",variant:"plain",onClick:e[6]||(e[6]=l=>v.value=!0)}),t(y),t(r,{text:"Update",onClick:F})]),_:1})]),_:1}),t(S,{modelValue:v.value,"onUpdate:modelValue":e[9]||(e[9]=l=>v.value=l),"max-width":"500"},{default:o(()=>[t(E,{title:"Delete User",text:"Are you sure?"},{default:o(()=>[t(U),t(C,{class:"bg-surface-light"},{default:o(()=>[t(r,{text:"Cancel",variant:"plain",onClick:e[7]||(e[7]=l=>v.value=!1)}),t(y),t(r,{text:"Delete",onClick:e[8]||(e[8]=l=>L(a.value._id))})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(H,{modelValue:d.value,"onUpdate:modelValue":e[11]||(e[11]=l=>d.value=l),timeout:I.value,location:"right",color:_.value},{actions:o(()=>[t(r,{variant:"text",onClick:e[10]||(e[10]=l=>d.value=!1)},{default:o(()=>e[14]||(e[14]=[c(" Close ")])),_:1})]),default:o(()=>[c(B(p.value)+" ",1)]),_:1},8,["modelValue","timeout","color"])],64)}}};export{ae as default};
